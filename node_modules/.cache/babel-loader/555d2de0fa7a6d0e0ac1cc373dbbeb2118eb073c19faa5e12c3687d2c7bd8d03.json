{"ast":null,"code":"var _jsxFileName = \"/Users/abubakarmujahid/Desktop/blockchain-voting-system/src/App.js\",\n  _s = $RefreshSig$();\nimport { ethers } from \"ethers\";\nimport * as ReactBootStrap from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\nimport ABIFILE from \"./artifacts/contracts/BlockchainVoting.sol/BlockchainVoting.json\";\nimport FatcVoter from \"./comp/FatcVoter\";\nimport Propsal from \"./comp/Propsal\";\nimport Set from \"./comp/FatchCandi\";\nimport Vote from \"./comp/Vote\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ABI = ABIFILE.abi;\nconst ContractAddress = \"0x632325aA46149c4b76804a3DDC25d63B21A2Cf81\";\nfunction App() {\n  _s();\n  const [role, setRole] = useState(\"\");\n  const [account, setAccount] = useState(\"\");\n  const [contract, setContract] = useState(null);\n  const [provider, setProvider] = useState(null);\n  const [isoff, setOff] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const Dicconnect = async () => {\n    if (typeof window !== \"undefined\") {\n      if (window.localStorage.getItem(\"Connected\")) {\n        window.localStorage.removeItem(\"Connected\");\n        setOff(false);\n        window.location.reload();\n      } else {}\n    }\n  };\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      if (window.localStorage.getItem(\"Connected\") && role) {\n        Connect();\n      }\n    }\n  }, []);\n  const Connect = async e => {\n    // e.preventDefault();\n    setLoading(true);\n    if (typeof window.ethereum !== \"undefined\") {\n      const account = await window.ethereum.request({\n        method: \"eth_requestAccounts\"\n      });\n      setOff(true);\n      window.localStorage.setItem(\"Connected\", \"injected\");\n      console.log(account);\n      setAccount(account);\n      document.getElementById(\"connectbtn\").innerHTML = account;\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      console.log(\"chainId: \", provider._network.chainId);\n      setProvider(provider);\n      const signer = provider.getSigner();\n      console.log(signer);\n      const contract = new ethers.Contract(ContractAddress, ABI, signer);\n      setContract(contract);\n      console.log(contract);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mx-auto p-4 text-light  \",\n    style: {\n      width: 1000,\n      marginTop: 25,\n      backgroundColor: \"rgb(135,62,35)\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center h5 text-warning p-2\",\n      children: \"Blockchain for Electronic Voting System\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), !role ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setRole(\"voter\");\n        },\n        className: \"btn btn-primary\",\n        style: {\n          margin: 100\n        },\n        children: \"Voter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setRole(\"admin\");\n        },\n        className: \"btn btn-dark text-light\",\n        style: {\n          margin: 100\n        },\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Connect,\n        id: \"connectbtn\",\n        className: \"btn btn-success mx-2\",\n        children: !loading ? \"Connect\" : /*#__PURE__*/_jsxDEV(ReactBootStrap.Spinner, {\n          as: \"span\",\n          animation: \"grow\",\n          size: \"sm\",\n          role: \"status\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Dicconnect,\n        id: \"Dissconnectbtn\",\n        className: \"btn btn-success mx-2\",\n        disabled: !isoff,\n        children: \"Disconnect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), role === \"voter\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Set, {\n        contract: contract,\n        account: account,\n        provider: provider\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Vote, {\n        contract: contract,\n        account: account,\n        provider: provider\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FatcVoter, {\n        contract: contract,\n        account: account,\n        provider: provider\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), role === \"admin\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Set, {\n        contract: contract,\n        account: account,\n        provider: provider\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Propsal, {\n        contract: contract,\n        account: account,\n        provider: provider\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"s3vums6GzT+1fXUZaG++fBLzOCs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["ethers","ReactBootStrap","useState","useEffect","ABIFILE","FatcVoter","Propsal","Set","Vote","jsxDEV","_jsxDEV","Fragment","_Fragment","ABI","abi","ContractAddress","App","_s","role","setRole","account","setAccount","contract","setContract","provider","setProvider","isoff","setOff","loading","setLoading","Dicconnect","window","localStorage","getItem","removeItem","location","reload","Connect","e","ethereum","request","method","setItem","console","log","document","getElementById","innerHTML","providers","Web3Provider","_network","chainId","signer","getSigner","Contract","className","style","width","marginTop","backgroundColor","children","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","alignItems","onClick","margin","id","Spinner","as","animation","size","disabled","_c","$RefreshReg$"],"sources":["/Users/abubakarmujahid/Desktop/blockchain-voting-system/src/App.js"],"sourcesContent":["import { ethers } from \"ethers\";\nimport * as ReactBootStrap from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\nimport ABIFILE from \"./artifacts/contracts/BlockchainVoting.sol/BlockchainVoting.json\";\nimport FatcVoter from \"./comp/FatcVoter\";\nimport Propsal from \"./comp/Propsal\";\nimport Set from \"./comp/FatchCandi\";\nimport Vote from \"./comp/Vote\";\nconst ABI = ABIFILE.abi;\nconst ContractAddress = \"0x632325aA46149c4b76804a3DDC25d63B21A2Cf81\";\n\nfunction App() {\n  const [role, setRole] = useState(\"\");\n  const [account, setAccount] = useState(\"\");\n  const [contract, setContract] = useState(null);\n  const [provider, setProvider] = useState(null);\n  const [isoff, setOff] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const Dicconnect = async () => {\n    if (typeof window !== \"undefined\") {\n      if (window.localStorage.getItem(\"Connected\")) {\n        window.localStorage.removeItem(\"Connected\");\n        setOff(false);\n        window.location.reload();\n      } else {\n      }\n    }\n  };\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      if (window.localStorage.getItem(\"Connected\") && role) {\n        Connect();\n      }\n    }\n  }, []);\n\n  const Connect = async (e) => {\n    // e.preventDefault();\n    setLoading(true);\n    if (typeof window.ethereum !== \"undefined\") {\n      const account = await window.ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n\n      setOff(true);\n      window.localStorage.setItem(\"Connected\", \"injected\");\n      console.log(account);\n      setAccount(account);\n      document.getElementById(\"connectbtn\").innerHTML = account;\n\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      console.log(\"chainId: \",provider._network.chainId)\n      setProvider(provider);\n\n      const signer = provider.getSigner();\n      console.log(signer);\n      const contract = new ethers.Contract(ContractAddress, ABI, signer);\n      setContract(contract);\n      console.log(contract);\n    }\n  };\n  return (\n    <div\n      className=\"mx-auto p-4 text-light  \"\n      style={{\n        width: 1000,\n        marginTop: 25,\n        backgroundColor: \"rgb(135,62,35)\",\n      }}\n    >\n      <p className=\"text-center h5 text-warning p-2\">\n        Blockchain for Electronic Voting System\n      </p>\n      {!role ? (\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <button\n            onClick={() => {\n              setRole(\"voter\");\n            }}\n            className=\"btn btn-primary\"\n            style={{ margin: 100}}\n          >\n            Voter\n          </button>\n          <button\n            onClick={() => {\n              setRole(\"admin\");\n            }}\n            className=\"btn btn-dark text-light\"\n            style={{ margin: 100}}\n          >\n            Admin\n          </button>\n        </div>\n      ) : (\n        <div className=\"d-flex justify-content-between\">\n          <button\n            onClick={Connect}\n            id=\"connectbtn\"\n            className=\"btn btn-success mx-2\"\n          >\n            {!loading ? (\n              \"Connect\"\n            ) : (\n              <ReactBootStrap.Spinner\n                as=\"span\"\n                animation=\"grow\"\n                size=\"sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              />\n            )}\n          </button>\n\n          <button\n            onClick={Dicconnect}\n            id=\"Dissconnectbtn\"\n            className=\"btn btn-success mx-2\"\n            disabled={!isoff}\n          >\n            Disconnect\n          </button>\n        </div>\n      )}\n\n      <br></br>\n      {role === \"voter\" && (\n        <>\n          <Set contract={contract} account={account} provider={provider} />\n          <Vote contract={contract} account={account} provider={provider} />\n          <FatcVoter\n            contract={contract}\n            account={account}\n            provider={provider}\n          />\n        </>\n      )}\n      {role === \"admin\" && (\n        <>\n          <Set contract={contract} account={account} provider={provider} />\n          <Propsal contract={contract} account={account} provider={provider} />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}